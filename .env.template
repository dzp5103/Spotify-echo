# =============================================================================
# EchoTune AI - Production Environment Template
# =============================================================================
# Copy this file to .env and configure with your actual values
# Generated from comprehensive code analysis - 60+ environment variables

# =============================================================================
# üöÄ CORE APPLICATION SETTINGS
# =============================================================================

# Application Configuration (REQUIRED)
NODE_ENV=production                    # Environment: development, production, test
PORT=3000                             # Application port
HOST=0.0.0.0                         # Host to bind to
WORKERS=auto                          # Number of worker processes (auto, or number)
CLUSTERING=false                      # Enable Node.js clustering

# Domain & URLs (REQUIRED for production)
DOMAIN=your-domain.com                # Your production domain
FRONTEND_URL=https://your-domain.com  # Frontend URL for redirects

# =============================================================================
# üîê SECURITY & AUTHENTICATION
# =============================================================================

# Session Security (GENERATE NEW RANDOM VALUES)
SESSION_SECRET=your_secure_session_secret_here_minimum_32_characters
JWT_SECRET=your_secure_jwt_secret_here_minimum_32_characters

# SSL/TLS Configuration (REQUIRED for HTTPS)
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/your-domain.crt
SSL_KEY_PATH=/etc/nginx/ssl/your-domain.key

# =============================================================================
# üéµ SPOTIFY INTEGRATION (REQUIRED for music features)
# =============================================================================

# Spotify API Credentials (Get from: https://developer.spotify.com/dashboard)
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret
SPOTIFY_REDIRECT_URI=https://your-domain.com/auth/callback

# Spotify API Settings
SPOTIFY_API_CACHE_TTL=300             # Cache time in seconds (5 minutes)

# =============================================================================
# ü§ñ AI & LLM PROVIDERS
# =============================================================================

# Default LLM Configuration
DEFAULT_LLM_PROVIDER=gemini           # Options: openai, gemini, azure, openrouter, mock
DEFAULT_LLM_MODEL=gemini-1.5-flash    # Default model for the selected provider

# Google Gemini (Recommended - Free tier available)
GEMINI_API_KEY=your_gemini_api_key    # Get from: https://makersuite.google.com/app/apikey
GEMINI_MODEL=gemini-1.5-flash         # Model: gemini-1.5-flash, gemini-1.5-pro

# OpenAI (Optional - Requires paid account)
OPENAI_API_KEY=your_openai_api_key    # Get from: https://platform.openai.com/api-keys
OPENAI_MODEL=gpt-3.5-turbo           # Model: gpt-3.5-turbo, gpt-4

# Azure OpenAI (Optional - Enterprise)
AZURE_OPENAI_API_KEY=your_azure_openai_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=your_deployment_name
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret

# OpenRouter (Optional - Multiple model access)
OPENROUTER_API_KEY=your_openrouter_key  # Get from: https://openrouter.ai/keys
OPENROUTER_MODEL=anthropic/claude-3-haiku

# Anthropic Claude (Optional)
ANTHROPIC_API_KEY=your_anthropic_key    # Get from: https://console.anthropic.com/

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================

# MongoDB (Primary Database - REQUIRED for production)
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/echotune
MONGODB_DATABASE=echotune
MONGODB_DB_NAME=echotune
MONGODB_COLLECTIONS_PREFIX=echotune_

# MongoDB Connection Settings
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME=30000
MONGODB_CONNECT_TIMEOUT=30000
MONGODB_SOCKET_TIMEOUT=30000

# SQLite (Fallback Database - Automatically configured)
DATABASE_PATH=./data/echotune.db

# Redis (Optional - Caching & Sessions)
REDIS_URL=redis://localhost:6379
REDIS_USERNAME=your_redis_username
REDIS_PASSWORD=your_redis_password
REDIS_DEFAULT_TTL=3600
REDIS_KEY_PREFIX=echotune:
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=5000

# Supabase (Optional - Alternative database)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key

# =============================================================================
# ‚öôÔ∏è PERFORMANCE & CACHING
# =============================================================================

# Request & Response Configuration
MAX_REQUEST_SIZE=10mb                  # Maximum request payload size
COMPRESSION=true                       # Enable gzip compression
CACHE_TTL=3600                        # Default cache TTL in seconds

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000           # Rate limit window (15 minutes)
RATE_LIMIT_MAX_REQUESTS=100           # Max requests per window
AUTH_RATE_LIMIT_MAX=10                # Max auth requests per window

# CORS Configuration
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# =============================================================================
# üìä MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=info                        # Levels: error, warn, info, debug
LOG_FILE=/opt/echotune/logs/app.log
ACCESS_LOG_FILE=/opt/echotune/logs/access.log

# Monitoring & Analytics
METRICS_ENABLED=true
ENABLE_ANALYTICS_DASHBOARD=true

# =============================================================================
# üéµ FEATURE FLAGS
# =============================================================================

# Music Features
ENABLE_RECOMMENDATIONS=true           # Enable music recommendations
ENABLE_PLAYLIST_CREATION=true        # Enable playlist creation
ENABLE_USER_ANALYTICS=true          # Enable user analytics
ENABLE_CHAT_HISTORY=true             # Enable chat history

# =============================================================================
# üîß MCP (Model Context Protocol) SERVERS
# =============================================================================

# MCP Configuration (Optional - Advanced automation)
MCP_URL=http://localhost:3001         # MCP server URL

# =============================================================================
# üíæ BACKUP & MAINTENANCE
# =============================================================================

# Backup Settings (Optional)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *             # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30              # Keep backups for 30 days

# =============================================================================
# üö® PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================

# Required for Production (Check these before deploying):
# [ ] SPOTIFY_CLIENT_ID and SPOTIFY_CLIENT_SECRET configured
# [ ] SESSION_SECRET and JWT_SECRET are secure random values
# [ ] DOMAIN matches your actual domain
# [ ] MONGODB_URI points to production database
# [ ] SSL certificates are properly configured
# [ ] At least one LLM provider is configured (GEMINI_API_KEY recommended)
# [ ] CORS_ORIGINS restricted to production domains only

# Optional but Recommended:
# [ ] REDIS_URL configured for better performance
# [ ] LOG_FILE path exists and is writable
# [ ] Backup settings configured
# [ ] Multiple LLM providers for redundancy

# =============================================================================
# üìö HELPFUL RESOURCES
# =============================================================================

# API Key Sources:
# - Spotify: https://developer.spotify.com/dashboard
# - Google Gemini: https://makersuite.google.com/app/apikey
# - OpenAI: https://platform.openai.com/api-keys
# - MongoDB Atlas: https://www.mongodb.com/cloud/atlas
# - Redis Cloud: https://redis.com/redis-cloud/

# Documentation:
# - GitHub Repository: https://github.com/dzp5103/Spotify-echo
# - Setup Guide: See README.md
# - Deployment Guide: See DEPLOYMENT.md

# =============================================================================
# ‚ö†Ô∏è SECURITY WARNINGS
# =============================================================================

# NEVER commit real API keys to version control
# ALWAYS use secure random values for secrets
# ALWAYS restrict CORS_ORIGINS in production
# ALWAYS enable SSL/HTTPS in production
# REGULARLY rotate API keys and secrets
# MONITOR logs for security incidents

# =============================================================================
# üß™ DEVELOPMENT & TESTING OVERRIDES
# =============================================================================

# These can be used for development/testing only - DISABLE in production
# NODE_ENV=development
# DEFAULT_LLM_PROVIDER=mock
# SSL_ENABLED=false
# LOG_LEVEL=debug