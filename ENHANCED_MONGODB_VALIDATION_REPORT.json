{
  "validation_timestamp": "2025-08-07T08:26:19.328Z",
  "database_connection": "mongodb+srv://copilot:DapperMan77@cluster0.ofnyuy.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0",
  "target_database": "echotune",
  "target_collection": "spotify_analytics",
  "validation_results": {
    "connection": {
      "status": "passed",
      "details": {
        "connected_at": "2025-08-07T08:26:13.142Z",
        "database": "echotune",
        "collection": "spotify_analytics"
      }
    },
    "database": {
      "status": "failed",
      "details": {
        "error": "this.collection.stats is not a function"
      }
    },
    "collection": {
      "status": "pending",
      "details": {}
    },
    "dataQuality": {
      "status": "passed",
      "details": {
        "total_documents": 43303,
        "with_audio_features": 37358,
        "with_listening_data": 41918,
        "audio_features_coverage": 0.862711590420987,
        "listening_data_coverage": 0.9680160727894142,
        "quality_distribution": {
          "high": 35973,
          "medium": 7330
        },
        "top_artists": [
          {
            "_id": "Aphex Twin",
            "track_count": 210
          },
          {
            "_id": "Kanye West",
            "track_count": 204
          },
          {
            "_id": "The Beatles",
            "track_count": 199
          },
          {
            "_id": "In Flames",
            "track_count": 181
          },
          {
            "_id": "$uicideboy$",
            "track_count": 151
          },
          {
            "_id": "Atmosphere",
            "track_count": 145
          },
          {
            "_id": "The Smiths",
            "track_count": 143
          },
          {
            "_id": "CYNE",
            "track_count": 134
          },
          {
            "_id": "CunninLynguists",
            "track_count": 133
          },
          {
            "_id": "BONES",
            "track_count": 132
          }
        ],
        "popular_tracks": [
          {
            "_id": "track_76Tbd4lLod84KshLnI2IkR",
            "track_name": "Amnesia",
            "artist_name": "Freddie Gibbs",
            "listening_stats": {
              "total_plays": 143
            }
          },
          {
            "_id": "track_34oWbFBfGEElvgO0a5c9V4",
            "track_name": "No Flockin'",
            "artist_name": "Kodak Black",
            "listening_stats": {
              "total_plays": 137
            }
          },
          {
            "_id": "track_4kUZvXB3LC3an3HX6h0s17",
            "track_name": "Cudi Montage",
            "artist_name": "KIDS SEE GHOSTS",
            "listening_stats": {
              "total_plays": 111
            }
          },
          {
            "_id": "track_2q0VexHJirnUPnEOhr2DxK",
            "track_name": "Biking",
            "artist_name": "Frank Ocean, JAY-Z, Tyler\\, The Creator",
            "listening_stats": {
              "total_plays": 106
            }
          },
          {
            "_id": "track_6fUHMhwKBSmetq2T1PvCKK",
            "track_name": "Liquor Sto'",
            "artist_name": "EARTHGANG, Mereba",
            "listening_stats": {
              "total_plays": 101
            }
          },
          {
            "_id": "track_0UNRwrbkIGoavCNy7ZY2QB",
            "track_name": "John 3:16 (feat. Wyclef Jean)",
            "artist_name": "DJ Muggs, Wyclef Jean",
            "listening_stats": {
              "total_plays": 98
            }
          },
          {
            "_id": "track_4WiFBRzY34rxXOVDc679Oh",
            "track_name": "18",
            "artist_name": "Kodak Black",
            "listening_stats": {
              "total_plays": 98
            }
          },
          {
            "_id": "track_2DtqYVY9L3m7yvUvra7Ge6",
            "track_name": "Lord Forgive Me",
            "artist_name": "21 Savage",
            "listening_stats": {
              "total_plays": 97
            }
          },
          {
            "_id": "track_5uLZ3YIQGC0mOk6q3lJ6Ng",
            "track_name": "The Mint (feat. Navy Blue)",
            "artist_name": "Earl Sweatshirt",
            "listening_stats": {
              "total_plays": 96
            }
          },
          {
            "_id": "track_5t1clpRLEOjsUhLqHJdh9C",
            "track_name": "Appreciation Remix (f. Cashmere The Pro) [Deluxe Edition]",
            "artist_name": "CunninLynguists",
            "listening_stats": {
              "total_plays": 94
            }
          }
        ],
        "audio_features_stats": {
          "_id": null,
          "avg_danceability": 0.5958456823170405,
          "avg_energy": 0.6120684493415065,
          "avg_valence": 0.44076594962257076,
          "avg_tempo": 119.09687785748702
        },
        "sample_document_structure": [
          "_id",
          "track_uri",
          "track_id",
          "track_name",
          "artist_name",
          "album_name",
          "artist_uri",
          "album_uri",
          "release_date",
          "duration_ms",
          "explicit",
          "popularity",
          "preview_url",
          "audio_features",
          "genres",
          "album_genres",
          "label",
          "isrc",
          "listening_stats",
          "user_interactions",
          "data_quality_score",
          "has_audio_features",
          "has_listening_data",
          "created_at",
          "updated_at"
        ]
      }
    },
    "indexes": {
      "status": "warning",
      "details": {
        "total_indexes": 27,
        "expected_indexes": 12,
        "found_indexes": [
          "track_name_1",
          "artist_name_1",
          "user_id_1_played_at_-1",
          "played_at_-1",
          "track_uri_1",
          "source_collection_1",
          "audio_features.energy_1_audio_features.valence_1",
          "data_quality_score_-1",
          "track_id_idx",
          "popularity_idx",
          "danceability_idx",
          "energy_idx",
          "valence_idx",
          "genres_idx",
          "data_completeness_idx",
          "created_at_idx",
          "mood_idx",
          "dance_tempo_idx",
          "acoustic_instrumental_idx",
          "popularity_mood_idx",
          "skip_quality_idx",
          "genre_energy_idx",
          "artist_mood_idx",
          "recent_activity_idx",
          "freshness_quality_idx",
          "recommendation_vector_idx"
        ],
        "missing_indexes": [
          "track_uri_idx",
          "artist_name_idx",
          "track_name_idx",
          "quality_score_idx"
        ],
        "extra_indexes": [
          "track_name_1",
          "artist_name_1",
          "user_id_1_played_at_-1",
          "played_at_-1",
          "track_uri_1",
          "source_collection_1",
          "audio_features.energy_1_audio_features.valence_1",
          "data_quality_score_-1",
          "mood_idx",
          "dance_tempo_idx",
          "acoustic_instrumental_idx",
          "popularity_mood_idx",
          "skip_quality_idx",
          "genre_energy_idx",
          "artist_mood_idx",
          "recent_activity_idx",
          "freshness_quality_idx",
          "recommendation_vector_idx"
        ],
        "index_details": [
          {
            "name": "_id_",
            "key": {
              "_id": 1
            },
            "unique": false,
            "background": false
          },
          {
            "name": "track_name_1",
            "key": {
              "track_name": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "artist_name_1",
            "key": {
              "artist_name": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "user_id_1_played_at_-1",
            "key": {
              "user_id": 1,
              "played_at": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "played_at_-1",
            "key": {
              "played_at": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "track_uri_1",
            "key": {
              "track_uri": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "source_collection_1",
            "key": {
              "source_collection": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "audio_features.energy_1_audio_features.valence_1",
            "key": {
              "audio_features.energy": 1,
              "audio_features.valence": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "data_quality_score_-1",
            "key": {
              "data_quality_score": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "track_id_idx",
            "key": {
              "track_id": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "popularity_idx",
            "key": {
              "listening_stats.total_plays": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "danceability_idx",
            "key": {
              "audio_features.danceability": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "energy_idx",
            "key": {
              "audio_features.energy": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "valence_idx",
            "key": {
              "audio_features.valence": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "genres_idx",
            "key": {
              "genres": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "data_completeness_idx",
            "key": {
              "has_audio_features": 1,
              "has_listening_data": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "created_at_idx",
            "key": {
              "created_at": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "mood_idx",
            "key": {
              "audio_features.valence": 1,
              "audio_features.energy": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "dance_tempo_idx",
            "key": {
              "audio_features.danceability": 1,
              "audio_features.tempo": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "acoustic_instrumental_idx",
            "key": {
              "audio_features.acousticness": 1,
              "audio_features.instrumentalness": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "popularity_mood_idx",
            "key": {
              "listening_stats.total_plays": -1,
              "audio_features.valence": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "skip_quality_idx",
            "key": {
              "listening_stats.skip_rate": 1,
              "data_quality_score": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "genre_energy_idx",
            "key": {
              "genres": 1,
              "audio_features.energy": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "artist_mood_idx",
            "key": {
              "artist_name": 1,
              "audio_features.valence": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "recent_activity_idx",
            "key": {
              "listening_stats.last_played": -1,
              "has_audio_features": 1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "freshness_quality_idx",
            "key": {
              "updated_at": -1,
              "data_quality_score": -1
            },
            "unique": false,
            "background": true
          },
          {
            "name": "recommendation_vector_idx",
            "key": {
              "audio_features.danceability": 1,
              "audio_features.energy": 1,
              "audio_features.valence": 1
            },
            "unique": false,
            "background": true
          }
        ]
      }
    },
    "performance": {
      "status": "passed",
      "details": {
        "tests": [
          {
            "test": "find_by_track_id",
            "duration_ms": 153
          },
          {
            "test": "recommendation_aggregation",
            "duration_ms": 262
          },
          {
            "test": "artist_search",
            "duration_ms": 637
          },
          {
            "test": "audio_features_range",
            "duration_ms": 160
          }
        ],
        "average_duration_ms": 303,
        "total_tests": 4,
        "performance_grade": "good"
      }
    },
    "analytics": {
      "status": "passed",
      "details": {
        "top_genres": [
          {
            "_id": "underground hip hop",
            "count": 3025
          },
          {
            "_id": "east coast hip hop",
            "count": 1714
          },
          {
            "_id": "rap",
            "count": 1615
          },
          {
            "_id": "cloud rap",
            "count": 1602
          },
          {
            "_id": "experimental hip hop",
            "count": 1576
          },
          {
            "_id": "southern hip hop",
            "count": 1556
          },
          {
            "_id": "hip hop",
            "count": 1548
          },
          {
            "_id": "classical",
            "count": 1515
          },
          {
            "_id": "jazz rap",
            "count": 1453
          },
          {
            "_id": "alternative hip hop",
            "count": 1316
          },
          {
            "_id": "horrorcore",
            "count": 1197
          },
          {
            "_id": "dark trap",
            "count": 1107
          },
          {
            "_id": "memphis rap",
            "count": 1090
          },
          {
            "_id": "boom bap",
            "count": 1088
          },
          {
            "_id": "emo rap",
            "count": 975
          },
          {
            "_id": "post-punk",
            "count": 954
          },
          {
            "_id": "idm",
            "count": 893
          },
          {
            "_id": "west coast hip hop",
            "count": 798
          },
          {
            "_id": "hardcore hip hop",
            "count": 728
          },
          {
            "_id": "metal",
            "count": 726
          }
        ],
        "temporal_distribution": [
          {
            "_id": null,
            "count": 1385
          },
          {
            "_id": "2010-05",
            "count": 79
          },
          {
            "_id": "2010-06",
            "count": 83
          },
          {
            "_id": "2010-07",
            "count": 29
          },
          {
            "_id": "2010-08",
            "count": 86
          },
          {
            "_id": "2010-09",
            "count": 100
          },
          {
            "_id": "2010-10",
            "count": 146
          },
          {
            "_id": "2010-11",
            "count": 84
          },
          {
            "_id": "2010-12",
            "count": 111
          },
          {
            "_id": "2011-01",
            "count": 27
          },
          {
            "_id": "2011-02",
            "count": 6
          },
          {
            "_id": "2011-03",
            "count": 40
          },
          {
            "_id": "2011-04",
            "count": 22
          },
          {
            "_id": "2011-06",
            "count": 1
          },
          {
            "_id": "2011-08",
            "count": 15
          },
          {
            "_id": "2011-09",
            "count": 103
          },
          {
            "_id": "2011-10",
            "count": 19
          },
          {
            "_id": "2011-11",
            "count": 15
          },
          {
            "_id": "2011-12",
            "count": 46
          },
          {
            "_id": "2012-01",
            "count": 90
          },
          {
            "_id": "2012-02",
            "count": 12
          },
          {
            "_id": "2012-03",
            "count": 48
          },
          {
            "_id": "2012-04",
            "count": 28
          },
          {
            "_id": "2012-05",
            "count": 55
          },
          {
            "_id": "2012-06",
            "count": 50
          },
          {
            "_id": "2012-07",
            "count": 60
          },
          {
            "_id": "2012-08",
            "count": 58
          },
          {
            "_id": "2012-09",
            "count": 90
          },
          {
            "_id": "2012-10",
            "count": 138
          },
          {
            "_id": "2012-11",
            "count": 350
          },
          {
            "_id": "2012-12",
            "count": 200
          },
          {
            "_id": "2013-01",
            "count": 90
          },
          {
            "_id": "2013-02",
            "count": 195
          },
          {
            "_id": "2013-03",
            "count": 93
          },
          {
            "_id": "2013-04",
            "count": 31
          },
          {
            "_id": "2013-05",
            "count": 126
          },
          {
            "_id": "2013-06",
            "count": 50
          },
          {
            "_id": "2013-07",
            "count": 101
          },
          {
            "_id": "2013-08",
            "count": 128
          },
          {
            "_id": "2013-09",
            "count": 109
          },
          {
            "_id": "2013-10",
            "count": 126
          },
          {
            "_id": "2013-11",
            "count": 77
          },
          {
            "_id": "2013-12",
            "count": 62
          },
          {
            "_id": "2014-01",
            "count": 91
          },
          {
            "_id": "2014-02",
            "count": 424
          },
          {
            "_id": "2014-03",
            "count": 398
          },
          {
            "_id": "2014-05",
            "count": 67
          },
          {
            "_id": "2014-10",
            "count": 4
          },
          {
            "_id": "2014-11",
            "count": 8
          },
          {
            "_id": "2015-01",
            "count": 5
          },
          {
            "_id": "2015-05",
            "count": 32
          },
          {
            "_id": "2015-06",
            "count": 16
          },
          {
            "_id": "2015-08",
            "count": 6
          },
          {
            "_id": "2015-09",
            "count": 1
          },
          {
            "_id": "2016-05",
            "count": 43
          },
          {
            "_id": "2016-06",
            "count": 258
          },
          {
            "_id": "2016-07",
            "count": 190
          },
          {
            "_id": "2016-08",
            "count": 139
          },
          {
            "_id": "2016-09",
            "count": 179
          },
          {
            "_id": "2016-10",
            "count": 342
          },
          {
            "_id": "2016-11",
            "count": 247
          },
          {
            "_id": "2016-12",
            "count": 865
          },
          {
            "_id": "2017-01",
            "count": 594
          },
          {
            "_id": "2017-02",
            "count": 1091
          },
          {
            "_id": "2017-03",
            "count": 313
          },
          {
            "_id": "2017-04",
            "count": 688
          },
          {
            "_id": "2017-05",
            "count": 429
          },
          {
            "_id": "2017-06",
            "count": 458
          },
          {
            "_id": "2017-07",
            "count": 226
          },
          {
            "_id": "2017-08",
            "count": 404
          },
          {
            "_id": "2017-09",
            "count": 387
          },
          {
            "_id": "2017-10",
            "count": 146
          },
          {
            "_id": "2017-11",
            "count": 151
          },
          {
            "_id": "2017-12",
            "count": 278
          },
          {
            "_id": "2018-01",
            "count": 182
          },
          {
            "_id": "2018-02",
            "count": 461
          },
          {
            "_id": "2018-03",
            "count": 856
          },
          {
            "_id": "2018-04",
            "count": 457
          },
          {
            "_id": "2018-05",
            "count": 400
          },
          {
            "_id": "2018-06",
            "count": 329
          },
          {
            "_id": "2018-07",
            "count": 562
          },
          {
            "_id": "2018-08",
            "count": 1123
          },
          {
            "_id": "2018-09",
            "count": 191
          },
          {
            "_id": "2018-10",
            "count": 234
          },
          {
            "_id": "2018-11",
            "count": 464
          },
          {
            "_id": "2018-12",
            "count": 638
          },
          {
            "_id": "2019-01",
            "count": 671
          },
          {
            "_id": "2019-02",
            "count": 302
          },
          {
            "_id": "2019-03",
            "count": 270
          },
          {
            "_id": "2019-04",
            "count": 149
          },
          {
            "_id": "2019-05",
            "count": 214
          },
          {
            "_id": "2019-06",
            "count": 481
          },
          {
            "_id": "2019-07",
            "count": 580
          },
          {
            "_id": "2019-08",
            "count": 1432
          },
          {
            "_id": "2019-09",
            "count": 493
          },
          {
            "_id": "2019-10",
            "count": 962
          },
          {
            "_id": "2019-11",
            "count": 207
          },
          {
            "_id": "2019-12",
            "count": 163
          },
          {
            "_id": "2020-01",
            "count": 177
          },
          {
            "_id": "2020-02",
            "count": 334
          },
          {
            "_id": "2020-03",
            "count": 241
          },
          {
            "_id": "2020-04",
            "count": 101
          },
          {
            "_id": "2020-05",
            "count": 119
          },
          {
            "_id": "2020-06",
            "count": 405
          },
          {
            "_id": "2020-07",
            "count": 201
          },
          {
            "_id": "2020-08",
            "count": 84
          },
          {
            "_id": "2020-09",
            "count": 250
          },
          {
            "_id": "2020-10",
            "count": 99
          },
          {
            "_id": "2020-11",
            "count": 208
          },
          {
            "_id": "2020-12",
            "count": 695
          },
          {
            "_id": "2021-01",
            "count": 102
          },
          {
            "_id": "2021-02",
            "count": 78
          },
          {
            "_id": "2021-03",
            "count": 118
          },
          {
            "_id": "2021-04",
            "count": 349
          },
          {
            "_id": "2021-05",
            "count": 323
          },
          {
            "_id": "2021-06",
            "count": 313
          },
          {
            "_id": "2021-07",
            "count": 424
          },
          {
            "_id": "2021-08",
            "count": 498
          },
          {
            "_id": "2021-09",
            "count": 466
          },
          {
            "_id": "2021-10",
            "count": 246
          },
          {
            "_id": "2021-11",
            "count": 187
          },
          {
            "_id": "2021-12",
            "count": 278
          },
          {
            "_id": "2022-01",
            "count": 395
          },
          {
            "_id": "2022-02",
            "count": 138
          },
          {
            "_id": "2022-03",
            "count": 109
          },
          {
            "_id": "2022-04",
            "count": 384
          },
          {
            "_id": "2022-05",
            "count": 446
          },
          {
            "_id": "2022-06",
            "count": 354
          },
          {
            "_id": "2022-07",
            "count": 342
          },
          {
            "_id": "2022-08",
            "count": 418
          },
          {
            "_id": "2022-09",
            "count": 327
          },
          {
            "_id": "2022-10",
            "count": 152
          },
          {
            "_id": "2022-11",
            "count": 148
          },
          {
            "_id": "2022-12",
            "count": 382
          },
          {
            "_id": "2023-01",
            "count": 361
          },
          {
            "_id": "2023-02",
            "count": 381
          },
          {
            "_id": "2023-03",
            "count": 567
          },
          {
            "_id": "2023-04",
            "count": 278
          },
          {
            "_id": "2023-05",
            "count": 254
          },
          {
            "_id": "2023-06",
            "count": 523
          },
          {
            "_id": "2023-07",
            "count": 267
          },
          {
            "_id": "2023-08",
            "count": 415
          },
          {
            "_id": "2023-09",
            "count": 319
          },
          {
            "_id": "2023-10",
            "count": 447
          },
          {
            "_id": "2023-11",
            "count": 416
          },
          {
            "_id": "2023-12",
            "count": 805
          },
          {
            "_id": "2024-01",
            "count": 503
          },
          {
            "_id": "2024-02",
            "count": 506
          },
          {
            "_id": "2024-03",
            "count": 729
          },
          {
            "_id": "2024-04",
            "count": 1164
          },
          {
            "_id": "2024-05",
            "count": 412
          }
        ],
        "audio_feature_ranges": {
          "_id": null,
          "high_energy": 8901,
          "medium_energy": 22055,
          "low_energy": 6402,
          "high_danceability": 12771,
          "high_valence": 6623
        },
        "total_unique_artists": 16376,
        "total_unique_albums": 20987,
        "tracks_with_previews": 36216
      }
    }
  },
  "overall_status": "failed",
  "recommendations": [
    {
      "priority": "high",
      "category": "performance",
      "issue": "Missing database indexes",
      "action": "Create missing indexes to improve query performance"
    }
  ]
}